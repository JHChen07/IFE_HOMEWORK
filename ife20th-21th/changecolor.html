<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
    <script src="../js/event.js"></script>
    <style>
        .palette {
            margin: 0;
            padding: 0;
            list-style: none;
        }
        .palette li {
            width: 40px;
            height: 40px;
            border: 1px solid #000;
            cursor: pointer;
        }
    </style>
</head>
<body>
<ul class="palette">
    <li style="background-color:crimson"></li>
    <li style="background-color:bisque"></li>
    <li style="background-color:blueviolet"></li>
    <li style="background-color:coral"></li>
    <li style="background-color:chartreuse"></li>
    <li style="background-color:darkolivegreen"></li>
    <li style="background-color:cyan"></li>
    <li style="background-color:#194738"></li>
</ul>

<p class="color-picker"></p>

<script>
    var ull = document.querySelector("ul");
    var p = document.getElementsByClassName("color-picker")[0];

    //根据事件委托进行重构
    ull.onclick = function (event) {
        event = EventUtil.getEvent(event);
        var t = EventUtil.getTarget(event);
        if (t.nodeName.toLowerCase() === "li"){
            p.innerHTML = t.style.backgroundColor;
            p.style.color = t.style.backgroundColor;
        }
    }

    // var list = document.querySelectorAll("li");
    // for (var i = i = 0, len = list.length; i < len; i++) {
    //     list[i].onclick = function(e) {
    //         var t = e.target;
    //         var p = document.getElementsByClassName("color-picker")[0];
    //         p.innerHTML = t.style.backgroundColor;
    //         p.style.color = t.style.backgroundColor;
    //     }
    // }
</script>
</body>
</html>